<html><head>
<meta content="text/html; charset=UTF-8" http-equiv="content-type">
<title>HTML Wrap Util for Editing Content</title>
  
<script src="http://code.jquery.com/jquery-1.9.1.js" type="text/javascript"></script>
<script src="javascripts/fromdev-util.js" type="text/javascript"></script>
 
<style type="text/css">
textarea {
    width: 100%; 
    height: 635px;
}
    
div.container {
    margin: auto;   
    width: 100%;
}

div.left {
    float: left;
    width: 40%;
    min-height:400px;
    border:2px solid #dfdfdf;
}

div.center {
    float: left;
    width: 12%;
    border: 2px solid #dddddd;
    margin: 10px;

}
div.right {
    float: left;
    width: 40%;
}
  </style>
  


<script type="text/javascript">//&lt;![CDATA[ 
$(window).load(function(){
	 $("#showtext").focus(function () {
        var $this = $(this);
        $this.select();

        // Work around Chrome's little problem
        $this.mouseup(function () {
            // Prevent further mouseup intervention
            $this.unbind("mouseup");
            return false;
        });
    });
	var formatAuthorBio = function(e) {
		var spanTxt = "";
		e.children().each(function(){
			var  $this = $(this);
			if($this.is("span")) {
				spanTxt += $this.text();
			}
			if($this.is("a")){
				var url = $this.attr('href');
				var linkText = $this.text().trim();
				spanTxt += createNoFollowLink({'selectedText':linkText,'hashText':createHashText(linkText),'url':url, 'nofollow':isNoFollow(url)});
			}
		});
		return createAuthorBio(spanTxt);	
	};
	var isNoFollow = function(link) {
		return link.indexOf('twitter') !== -1;
	};
	$("#clean").click(function(){
		var html = $.parseHTML($('#editable').html());
		$dirty = $("#dirty");
		$dirty.html(html);
		var spanTxt = formatAuthorBio($dirty);
		$("#showtext").val(spanTxt);
		
	});
});//]]&gt;  

</script>


</head>
<body>
<div class="container">
<p> <a href="Introduction.html">Introduction</a> | <a href="BookReview.html">Book Review</a> | <a href="ListItem.html">List Item</a>  | <a href="LinkListItem.html">Link List Item</a> | <a href="summary.html">Summary</a> | <a href="wrap.html">Wrap</a> | <a href="json-escape.html">Json Escape</a> | <a href="Author-Bio.html">Author Bio</a></p>

<div class="left" id="editable" contenteditable="true">
</div>
<div id="dirty" style="display:none;">
</div>
<div class="center">
<div id="log"></div>
<button id="clean">Clean HTML</button>
<button id="reset">Reset</button>
</div>
<div class="right">
<textarea id="showtext"></textarea>
</div >
</div>

</body></html>
